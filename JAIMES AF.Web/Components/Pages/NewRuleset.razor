@page "/rulesets/new"
@rendermode InteractiveServer

<PageTitle>Create New Ruleset</PageTitle>

<MudContainer MaxWidth="MaxWidth.Medium" Class="mt-4">
	<FormPageHeader Title="Create New Ruleset"
	                Icon="@Icons.Material.Filled.AutoStories"
	                Theme="FormPageHeader.HeroTheme.Accent"
	                Subtitle="Define a new set of rules" />

	<MudPaper Class="pa-6" Elevation="2">
        <MudStack Row="true" AlignItems="AlignItems.Center" Class="mb-4">
            <MudBreadcrumbs Items="_breadcrumbs" Separator=">"></MudBreadcrumbs>
        </MudStack>

		@if (!string.IsNullOrEmpty(_errorMessage))
		{
			<MudAlert Severity="Severity.Error" Class="mb-4">@_errorMessage</MudAlert>
		}

		<MudForm>
			<MudTextField @bind-Value="_rulesetId"
			              Label="Ruleset ID"
			              Variant="Variant.Outlined"
			              Class="mb-4"
			              Disabled="_isSaving"
			              Required="true"
			              RequiredError="Ruleset ID is required"
			              HelperText="A unique identifier for this ruleset (e.g., 'dnd5e', 'pathfinder')"/>

			<MudTextField @bind-Value="_name"
			              Label="Name"
			              Variant="Variant.Outlined"
			              Class="mb-4"
			              Disabled="_isSaving"
			              Required="true"
			              RequiredError="Name is required"
			              HelperText="The display name for this ruleset (e.g., 'D&D 5th Edition')"/>

			<FormActionButtons PrimaryText="Create Ruleset"
			                   PrimaryColor="Color.Success"
			                   PrimaryIcon="@Icons.Material.Filled.Add"
			                   OnPrimary="CreateRulesetAsync"
			                   PrimaryDisabled="@(!IsFormValid())"
			                   IsSaving="_isSaving"
			                   SavingText="Creating..."
			                   CancelHref="/rulesets" />
		</MudForm>
	</MudPaper>
</MudContainer>

